(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-setting"],{"1fb3":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",{staticStyle:{position:"absolute",right:"10px",top:"20px","z-index":"100",width:"40px",height:"40px",background:"transparent"},on:{click:function(a){return t.hapus()}}}),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[n("path",{attrs:{fill:"#000b76","fill-opacity":"1",d:"M0,224L0,224L180,224L180,288L360,288L360,32L540,32L540,160L720,160L720,64L900,64L900,32L1080,32L1080,288L1260,288L1260,64L1440,64L1440,0L1260,0L1260,0L1080,0L1080,0L900,0L900,0L720,0L720,0L540,0L540,0L360,0L360,0L180,0L180,0L0,0L0,0Z"}})]),n("div",{staticClass:"card animate__animated animate__backInRight"},[n("div",{staticClass:"card-header text-center mx-auto"},["-"!=this.$store.state.users.gambar?n("div",[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-fluid rounded-top z-depth-1",staticStyle:{height:"140px"},attrs:{src:t.$store.state.users.gambar,alt:""}})]):n("div",[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-fluid rounded-top z-depth-1",staticStyle:{height:"140px"},attrs:{src:e("b709"),alt:""}})])]),n("div",{staticClass:"card-body"},[n("button",{staticClass:"btn btn-sm btn-style9  float-right",staticStyle:{background:"linear-gradient(349deg, rgba(34,227,23,0.5410539215686274) 0%, rgba(17,232,27,0.8603816526610644) 97%)"},attrs:{type:"button"},on:{click:function(a){return t.$router.push("/kedua")}}},[n("span",{staticClass:"typcn typcn-pen"}),t._v(" TTD")]),n("br"),n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-business-card text-lg"}),t._v(" "),n("label",{attrs:{for:"nip"}},[t._v("nip")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.nip,expression:"vdata.nip"}],staticClass:"form-control",attrs:{type:"text",id:"nip",name:"nip",required:""},domProps:{value:t.vdata.nip},on:{input:function(a){a.target.composing||t.$set(t.vdata,"nip",a.target.value)}}})]),n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-user-add text-lg"}),t._v(" "),n("label",{attrs:{for:"nama"}},[t._v("Nama")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.nama,expression:"vdata.nama"}],staticClass:"form-control",attrs:{type:"text",id:"nama",name:"nama",required:""},domProps:{value:t.vdata.nama},on:{input:function(a){a.target.composing||t.$set(t.vdata,"nama",a.target.value)}}})]),n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-group text-lg"}),t._v(" "),n("label",{attrs:{for:"unit"}},[t._v("Unit Kerja")]),n("div",{staticClass:"sm-form "},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.unit_kerja,expression:"vdata.unit_kerja"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"unit_kerja",name:"unit_kerja",placeholder:"unit_kerja"},domProps:{value:t.vdata.unit_kerja},on:{input:function(a){a.target.composing||t.$set(t.vdata,"unit_kerja",a.target.value)}}})])]),n("br"),n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-phone text-lg"}),t._v(" "),n("label",{attrs:{for:"nohp"}},[t._v("NO WA (optional)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.nohp,expression:"vdata.nohp"}],staticClass:"form-control",attrs:{type:"text",id:"nohp",name:"nohp"},domProps:{value:t.vdata.nohp},on:{input:function(a){a.target.composing||t.$set(t.vdata,"nohp",a.target.value)}}})]),n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-image text-lg"}),t._v(" "),n("label",{attrs:{for:"gambar"}},[t._v("Gambar (optional)")]),n("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.previewImage}}),n("hr",{staticClass:"style2"})]),t.email?n("div",{staticClass:"md-form form-sm"},[n("span",{staticClass:"typcn typcn-mail text-lg"}),t._v(" "),n("label",{attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.emailnotif,expression:"vdata.emailnotif"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",required:""},domProps:{value:t.vdata.emailnotif},on:{input:function(a){a.target.composing||t.$set(t.vdata,"emailnotif",a.target.value)}}})]):t._e(),n("p",{staticClass:"text-red text-sm font-bold"},[t._v("Untuk atasan pada user ini minta set ke Admin !")]),n("p",{staticClass:"text-red text-sm font-bold"},[t._v("Klik tombol bawah untuk set device notifikasi !")]),n("button",{staticClass:"btn btn-sm btn-style9 ml-2",staticStyle:{"font-size":"12px",background:"grey"},attrs:{type:"button"},on:{click:function(a){return t.addnotif()}}},[n("span",{staticClass:"typcn typcn-bell"})]),n("br"),n("br"),n("br"),n("button",{staticClass:"btn btn-md btn-dark",attrs:{type:"button"},on:{click:function(a){return t.$router.go(-1)}}},[n("span",{staticClass:"typcn typcn-arrow-left"}),t._v(" Back ")]),t.vdata.nama.length>0&&t.vdata.unit?n("button",{staticClass:"btn btn-sm btn-style9 float-right",attrs:{type:"button"},on:{click:function(a){return t.next()}}},[t._v(" Simpan "),n("span",{staticClass:"typcn typcn-edit"})]):t._e()])]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[n("path",{attrs:{fill:"#000b76","fill-opacity":"1",d:"M0,224L0,224L180,224L180,288L360,288L360,32L540,32L540,160L720,160L720,64L900,64L900,32L1080,32L1080,288L1260,288L1260,64L1440,64L1440,320L1260,320L1260,320L1080,320L1080,320L900,320L900,320L720,320L720,320L540,320L540,320L360,320L360,320L180,320L180,320L0,320L0,320Z"}})])])},s=[],i=(e("d81d"),e("b0c0"),e("5530")),o=e("bc3a"),r=e.n(o),l=e("8aa5"),c=e.n(l),u=c.a.firestore(),d={data:function(){return{vdata:{nama:"",unit:""},units:[],units2:[],unit:"",imageData:null,picture:null,file:"",email:!1,uploadValue:0}},beforeMount:function(){var t=this;u.collection("users").doc(this.$store.state.users.uid).get().then((function(a){var e=a.data();t.vdata.nip=e.nip,t.vdata.nama=e.nama,t.vdata.unit=e.unit,t.vdata.unit_kerja=e.unit_kerja,t.vdata.emails=t.$store.state.users.emails,t.email=t.$store.state.users.emails,t.vdata.emailnotif=e.emailnotif,t.vdata.gambar=e.gambar?e.gambar:"",t.vdata.nohp=e.nohp?e.nohp:""}))},layout:"lembur",methods:{addnotif:function(){document.addEventListener("deviceready",(function(){var t=PushNotification.init({android:{senderID:"494678481790",sound:"true",vibrate:"true",clearNotifications:!0,forceShow:!0},ios:{alert:"true",badge:"true",sound:"true"}});PushNotification.createChannel((function(){console.log("success")}),(function(){console.log("error")}),{id:"test-channel",description:"My first test channel",importance:5,vibration:[500,1e3,500,500],sound:"test"}),t.on("registration",(function(t){localStorage.setItem("notifid",t.registrationId),that.regis=t.registrationId,alert(that.regis),that.$forceUpdate(),this.$store.state.users&&u.collection("users").doc(this.$store.state.users.uid).set({fcm:t.registrationId},{merge:!0}).then((function(t){alert("BERHASIL SET DEVICE INI UNTUK MENDAPATKAN NOTIFIKASI!")}))})),t.on("notification",(function(t){})),t.on("error",(function(t){console.log(t.message)}))}),!1)},hapus:function(){var t=this;confirm("Apakah yakin menghapus akun ini ?")&&u.collection("users").doc(this.$store.state.users.uid).set({hapus:"true"},{merge:!0}).then((function(a){alert("berhasil hapus akun"),t.$store.dispatch("logout")}))},next:function(){var t=this;u.collection("users").doc(this.$store.state.users.uid).set(Object(i["a"])({},this.vdata),{merge:!0}).then((function(a){alert("Simpan Berhasil"),t.$store.dispatch("ceklogin",{true:!0,false:!0}).then((function(a){t.$router.push("/lembur")}))}))},previewImage:function(t){var a=this,e=t.target.files[0],n=[];this.$daycaca.compress(e,.5,(function(t){a.$urltofile(t,e.name,e.type).then((function(t){n.push(t),a.$nuxt.$emit("busy",!0),setTimeout((function(){a.$nuxt.$emit("busy",!1);var t=new FormData;t.append("file",n[0]),confirm("Apakah yakin proses upload photo ?")&&r.a.post("https://akbarmaliki.website/upload.php",t,{headers:{"content-type":"multipart/form-data"}}).then((function(t){a.$forceUpdate(),console.log(t.data),a.$store.state.users.gambar="https://akbarmaliki.website"+t.data,a.vdata.gambar="https://akbarmaliki.website"+t.data,u.collection("users").doc(a.$store.state.users.uid).set({gambar:"https://akbarmaliki.website"+t.data},{merge:!0}).then((function(t){alert("Berhasil di upload ! klik simpan untuk menyimpan gambar")}))}))}),2e3)}))}))},onUpload:function(){var t=this;this.picture=null;var a=c.a.storage().ref("".concat(this.imageData.name)).put(this.imageData);a.on("state_changed",(function(a){t.uploadValue=a.bytesTransferred/a.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(a){t.picture=a,console.log("url",a),t.vdata.gambar=a}))}))}},mounted:function(){var t=this;u.collection("users").where("bagian","==","deputy").get().then((function(a){var e=a.docs.map((function(t){return Object(i["a"])({uid:t.id},t.data())}));t.units2=e})),u.collection("unit").get().then((function(a){var e=a.docs.map((function(t){return Object(i["a"])({id:t.id},t.data())}));e=_.orderBy(e,["nama_unit"],["asc"]),t.units=e,console.log(t.units)}))}},m=d,p=e("2877"),v=Object(p["a"])(m,n,s,!1,null,null,null);a["default"]=v.exports},b709:function(t,a,e){t.exports=e.p+"img/nofound.2251b368.png"},d81d:function(t,a,e){"use strict";var n=e("23e7"),s=e("b727").map,i=e("1dde"),o=e("ae40"),r=i("map"),l=o("map");n({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=page-setting.30ab4437.js.map