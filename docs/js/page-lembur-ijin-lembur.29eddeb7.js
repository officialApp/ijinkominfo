(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-lembur-ijin-lembur"],{"99af":function(t,a,e){"use strict";var n=e("23e7"),s=e("d039"),r=e("e8b5"),i=e("861d"),o=e("7b0b"),l=e("50c4"),u=e("8418"),d=e("65f0"),c=e("1dde"),m=e("b622"),p=e("2d00"),v=m("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",g=p>=51||!s((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),b=c("concat"),C=function(t){if(!i(t))return!1;var a=t[v];return void 0!==a?!!a:r(t)},w=!g||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var a,e,n,s,r,i=o(this),c=d(i,0),m=0;for(a=-1,n=arguments.length;a<n;a++)if(r=-1===a?i:arguments[a],C(r)){if(s=l(r.length),m+s>f)throw TypeError(h);for(e=0;e<s;e++,m++)e in r&&u(c,m,r[e])}else{if(m>=f)throw TypeError(h);u(c,m++,r)}return c.length=m,c}})},b4e8:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("div",[n("button",{staticClass:"btn btn-sm btn-style1 font-bold text-uppercase underline",staticStyle:{position:"absolute"},attrs:{type:"button"},on:{click:function(a){return t.$router.push("/lembur")}}},[n("span",{staticClass:"text-xl typcn typcn-arrow-left"}),t._v(" Kembali ")]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[n("path",{attrs:{fill:"#0099ff","fill-opacity":"1",d:"M0,224L30,213.3C60,203,120,181,180,170.7C240,160,300,160,360,170.7C420,181,480,203,540,181.3C600,160,660,96,720,90.7C780,85,840,139,900,138.7C960,139,1020,85,1080,96C1140,107,1200,181,1260,213.3C1320,245,1380,235,1410,229.3L1440,224L1440,0L1410,0C1380,0,1320,0,1260,0C1200,0,1140,0,1080,0C1020,0,960,0,900,0C840,0,780,0,720,0C660,0,600,0,540,0C480,0,420,0,360,0C300,0,240,0,180,0C120,0,60,0,30,0L0,0Z"}})]),n("p",{staticClass:"text-center"},[t._v("FORM IJIN KELUAR")]),n("div",{staticClass:"card animate__animated animate__backInDown"},[n("div",{staticClass:"card-header text-center mx-auto"},[n("img",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-fluid rounded-top z-depth-1",staticStyle:{height:"100px"},attrs:{src:e("c8f1"),alt:""}})]),n("div",{staticClass:"card-body"},[n("form",{attrs:{action:""},on:{submit:function(a){return a.preventDefault(),t.next()}}},[n("div",{staticClass:"sm-form"},[n("label",{attrs:{for:"keperluan"}},[t._v("Keperluan : ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.keperluan,expression:"vdata.keperluan"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"keperluan",name:"keperluan",rows:"2",placeholder:"isi keperluan",required:""},domProps:{value:t.vdata.keperluan},on:{input:function(a){a.target.composing||t.$set(t.vdata,"keperluan",a.target.value)}}})]),n("div",{staticClass:"sm-form"},[n("label",{staticClass:"pl-2",attrs:{for:"tanggal"}},[t._v("Tanggal Ijin ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.tanggal_ijin,expression:"vdata.tanggal_ijin"}],staticClass:"form-control form-control-sm",attrs:{type:"date",id:"tanggal_ijin",name:"tanggal",placeholder:"tanggal",required:""},domProps:{value:t.vdata.tanggal_ijin},on:{input:function(a){a.target.composing||t.$set(t.vdata,"tanggal_ijin",a.target.value)}}})]),n("div",{staticClass:"sm-form "},[n("label",{attrs:{for:"jam1"}},[t._v("Dari Jam")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.jam1,expression:"vdata.jam1"}],staticClass:"form-control form-control-sm",attrs:{type:"time",id:"jam1",name:"jam1",placeholder:"jam"},domProps:{value:t.vdata.jam1},on:{input:function(a){a.target.composing||t.$set(t.vdata,"jam1",a.target.value)}}})]),n("div",{staticClass:"sm-form "},[n("label",{attrs:{for:"jam2"}},[t._v("S/D Jam")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.jam2,expression:"vdata.jam2"}],staticClass:"form-control form-control-sm",attrs:{type:"time",id:"jam2",name:"jam2",placeholder:"s/d jam"},domProps:{value:t.vdata.jam2},on:{input:function(a){a.target.composing||t.$set(t.vdata,"jam2",a.target.value)}}})]),n("br"),t._m(0)])])]),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"}},[n("path",{attrs:{fill:"#0099ff","fill-opacity":"1",d:"M0,224L30,213.3C60,203,120,181,180,170.7C240,160,300,160,360,170.7C420,181,480,203,540,181.3C600,160,660,96,720,90.7C780,85,840,139,900,138.7C960,139,1020,85,1080,96C1140,107,1200,181,1260,213.3C1320,245,1380,235,1410,229.3L1440,224L1440,320L1410,320C1380,320,1320,320,1260,320C1200,320,1140,320,1080,320C1020,320,960,320,900,320C840,320,780,320,720,320C660,320,600,320,540,320C480,320,420,320,360,320C300,320,240,320,180,320C120,320,60,320,30,320L0,320Z"}})])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-sm btn-style9 float-right",attrs:{type:"submit"}},[t._v(" Request "),e("span",{staticClass:"typcn typcn-edit"})])}],r=(e("99af"),e("d81d"),e("5530")),i=(e("bc3a"),e("8aa5")),o=e.n(i),l=o.a.firestore(),u={data:function(){return{vdata:{lama_keluar:1},head_nama:"",units:[],units2:[],ready:!1}},methods:{pilih:function(){alert("y")},next:function(){var t=this,a=this;this.vdata.from=this.$store.state.users,this.vdata.lama_keluar="".concat(this.vdata.jam1," s/d ").concat(this.vdata.jam2),confirm("apakah data yang dimasukkan sudah benar?")&&(this.vdata.createAt=new Date,l.collection("users").doc(this.$store.state.users.uid).collection("lembur").doc().set(this.vdata,{merge:!0}).then((function(e){var n="";n="/lembur/head2",alert("Ijin Keluar berhasil di request!"),t.$store.dispatch("notifikasi",{title:"Permintaan approve Ijin Keluar!",body:"Ijin Keluar oleh "+t.$store.state.users.nama,link:n,from:t.$store.state.users,to:a.vdata.to}),t.$router.push("/lembur/status")})))}},mounted:function(){var t=this;l.collection("users").doc(this.$store.state.users.uid).onSnapshot((function(a){var e=a.data();e.nama||e.nip||(alert("Tambahkan dulu nama dan nip pegawai sebelum melakukan permintaan ijin keluar!"),t.$router.push("/setting")),e.atasan?t.vdata.to=e.atasan:(alert("Atasan/Desposisi untuk akun belum di set, silahkan minta admin untuk menambahkan Atasan/Desposisi"),t.$router.push("/lembur"))}));var a=new Date,e=a.getDate()+1,n=a.getMonth()+1,s=a.getFullYear();e<10&&(e="0"+e),n<10&&(n="0"+n),a=s+"-"+n+"-"+e;var r=this;setTimeout((function(){r.vdata.nip=t.$store.state.users.nip,r.vdata.nama=t.$store.state.users.nama,r.vdata.unit=t.$store.state.users.unit,r.vdata.status=2,r.$forceUpdate()}),1e3)},beforeMount:function(){var t=this,a=this;l.collection("users").where("bagian","==","unit_head").get().then((function(a){var e=a.docs.map((function(t){return Object(r["a"])({uid:t.id},t.data())}));t.units=e})),l.collection("users").where("bagian","==","deputy").get().then((function(a){var e=a.docs.map((function(t){return Object(r["a"])({uid:t.id},t.data())}));t.units2=e})),l.collection("users").doc(this.$store.state.users.uid).collection("lembur").get().then((function(e){var n=e.docs.map((function(t){return t.data()}));t.$forceUpdate(),n.length>0&&a.$router.push("/lembur/status")}))},layout:"lembur"},d=u,c=e("2877"),m=Object(c["a"])(d,n,s,!1,null,null,null);a["default"]=m.exports},c8f1:function(t,a,e){t.exports=e.p+"img/kopdiskominfo.70a0da02.png"},d81d:function(t,a,e){"use strict";var n=e("23e7"),s=e("b727").map,r=e("1dde"),i=e("ae40"),o=r("map"),l=i("map");n({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=page-lembur-ijin-lembur.29eddeb7.js.map